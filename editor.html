<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리치 텍스트 에디터 - My Blog</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="/">My Blog</a>
                </div>
                <nav class="nav">
                    <a href="/" class="nav-link">홈</a>
                    <a href="/editor.html" class="nav-link active">에디터</a>
                    <a href="#" class="nav-link" id="darkModeToggle">🌙</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="editor-container">
                <!-- Editor Header -->
                <div class="editor-header">
                    <h1>리치 텍스트 에디터</h1>
                    <p>Google Drive 통합 이미지/동영상 업로드 지원</p>
                </div>

                <!-- Post Metadata -->
                <div class="post-metadata">
                    <input type="text" id="postTitle" placeholder="포스트 제목을 입력하세요..." class="title-input">
                    <input type="text" id="postAuthor" placeholder="작성자" class="author-input">
                    <input type="text" id="postTags" placeholder="태그 (쉼표로 구분)" class="tags-input">
                </div>

                <!-- Editor Toolbar -->
                <div class="editor-toolbar">
                    <!-- Text Formatting -->
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" data-command="bold" title="굵게 (Ctrl+B)">
                            <strong>B</strong>
                        </button>
                        <button type="button" class="toolbar-btn" data-command="italic" title="기울임 (Ctrl+I)">
                            <em>I</em>
                        </button>
                        <button type="button" class="toolbar-btn" data-command="underline" title="밑줄 (Ctrl+U)">
                            <u>U</u>
                        </button>
                        <button type="button" class="toolbar-btn" data-command="strikeThrough" title="취소선">
                            <s>S</s>
                        </button>
                    </div>

                    <!-- Headings -->
                    <div class="toolbar-group">
                        <select class="toolbar-select" id="headingSelect">
                            <option value="">일반 텍스트</option>
                            <option value="h1">제목 1</option>
                            <option value="h2">제목 2</option>
                            <option value="h3">제목 3</option>
                        </select>
                    </div>

                    <!-- Alignment -->
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" data-command="justifyLeft" title="왼쪽 정렬">
                            ⬅️
                        </button>
                        <button type="button" class="toolbar-btn" data-command="justifyCenter" title="가운데 정렬">
                            ↔️
                        </button>
                        <button type="button" class="toolbar-btn" data-command="justifyRight" title="오른쪽 정렬">
                            ➡️
                        </button>
                    </div>

                    <!-- Lists -->
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" data-command="insertUnorderedList" title="글머리 기호">
                            • 목록
                        </button>
                        <button type="button" class="toolbar-btn" data-command="insertOrderedList" title="번호 매기기">
                            1. 목록
                        </button>
                    </div>

                    <!-- Media Upload -->
                    <div class="toolbar-group">
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                        <input type="file" id="videoUpload" accept="video/*" style="display: none;">
                        
                        <button type="button" class="toolbar-btn" id="imageUploadBtn" title="이미지 업로드">
                            📷 이미지
                        </button>
                        <button type="button" class="toolbar-btn" id="videoUploadBtn" title="동영상 업로드">
                            🎥 동영상
                        </button>
                        <button type="button" class="toolbar-btn" id="linkBtn" title="링크 추가">
                            🔗 링크
                        </button>
                    </div>

                    <!-- Colors -->
                    <div class="toolbar-group">
                        <input type="color" id="textColor" title="글자 색상" value="#000000">
                        <input type="color" id="backgroundColor" title="배경 색상" value="#ffffff">
                    </div>

                    <!-- Actions -->
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" id="undoBtn" title="실행 취소 (Ctrl+Z)">
                            ↩️
                        </button>
                        <button type="button" class="toolbar-btn" id="redoBtn" title="다시 실행 (Ctrl+Y)">
                            ↪️
                        </button>
                        <button type="button" class="toolbar-btn" id="clearBtn" title="모두 지우기">
                            🗑️
                        </button>
                    </div>
                </div>

                <!-- Editor Content -->
                <div class="editor-content">
                    <div id="editor" contenteditable="true" class="rich-editor" placeholder="여기에 내용을 작성하세요...">
                        <p>여기에 내용을 작성하세요...</p>
                    </div>
                </div>

                <!-- Upload Progress -->
                <div id="uploadProgress" class="upload-progress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <span id="progressText">업로드 중...</span>
                </div>

                <!-- Editor Actions -->
                <div class="editor-actions">
                    <button type="button" class="btn btn-secondary" id="previewBtn">미리보기</button>
                    <button type="button" class="btn btn-primary" id="exportBtn">HTML 내보내기</button>
                    <button type="button" class="btn btn-success" id="saveBtn">Google Sheets에 저장</button>
                </div>

                <!-- HTML Output -->
                <div class="html-output" id="htmlOutput" style="display: none;">
                    <h3>생성된 HTML 코드</h3>
                    <textarea id="htmlCode" readonly></textarea>
                    <button type="button" class="btn btn-secondary" id="copyHtmlBtn">복사</button>
                </div>

                <!-- Preview Modal -->
                <div id="previewModal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>미리보기</h3>
                            <button type="button" class="modal-close" id="closePreview">&times;</button>
                        </div>
                        <div class="modal-body" id="previewContent">
                            <!-- 미리보기 내용 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container">
        <!-- 토스트 메시지들이 동적으로 추가됩니다 -->
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 My Blog. All rights reserved.</p>
            <p>Powered by Google Sheets & Vanilla JavaScript</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/upload.js"></script>
    <script src="js/editor.js"></script>
</body>
</html>