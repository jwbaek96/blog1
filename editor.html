<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î¶¨Ïπò ÌÖçÏä§Ìä∏ ÏóêÎîîÌÑ∞ - My Blog</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="/">My Blog</a>
                </div>
                <nav class="nav">
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="editor-container">
                <!-- Editor Header -->
                <div class="editor-header">
                </div>

                <!-- Post Metadata -->
                <div class="post-metadata">
                    <input type="text" id="postTitle" placeholder="Untitled..." class="title-input">
                    <div class="tags-container">
                        <div class="tags-wrapper" id="tagsWrapper">
                            <!-- ÌÉúÍ∑∏Îì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                            <input type="text" id="tagInput" class="tag-input" placeholder="ÌÉúÍ∑∏ ÏûÖÎ†• ÌõÑ ÏâºÌëúÎÇò ÏóîÌÑ∞">
                        </div>
                    </div>
                </div>

                <!-- Simple Editor Container -->
                <div class="simple-editor-wrapper">

                    <div class="simple-toolbar">
                        
                        <select onchange="format('formatBlock', this.value); this.value=''">
                            <option value="">Îã®ÎùΩ Ïä§ÌÉÄÏùº</option>
                            <option value="h1">Ï†úÎ™© 1</option>
                            <option value="h2">Ï†úÎ™© 2</option>
                            <option value="h3">Ï†úÎ™© 3</option>
                            <option value="p">Î≥∏Î¨∏</option>
                        </select>
                        
                        <select onchange="format('fontSize', this.value); this.value=''">
                            <option value="">Í∏ÄÏûê ÌÅ¨Í∏∞</option>
                            <option value="1">Îß§Ïö∞ ÏûëÍ≤å</option>
                            <option value="3">ÏûëÍ≤å</option>
                            <option value="5">Î≥¥ÌÜµ</option>
                            <option value="6">ÌÅ¨Í≤å</option>
                            <option value="7">Îß§Ïö∞ ÌÅ¨Í≤å</option>
                        </select>
                        
                        <div class="separator"></div>
                        <button onclick="format('bold')" title="ÍµµÍ≤å (Ctrl+B)"><b>B</b></button>
                        <button onclick="format('italic')" title="Í∏∞Ïö∏ÏûÑ (Ctrl+I)"><i>I</i></button>
                        <button onclick="format('underline')" title="Î∞ëÏ§Ñ (Ctrl+U)"><u>U</u></button>
                        <button onclick="format('strikeThrough')" title="Ï∑®ÏÜåÏÑ†"><s>S</s></button>
                        <div class="separator"></div>
                        <div class="color-button-wrapper">
                            <button class="color-button text-color-btn" onclick="document.getElementById('textColor').click()" title="Í∏ÄÏûê ÏÉâ">
                                <span class="color-letter">A</span>
                                <span class="color-bar" id="textColorBar"></span>
                                <input type="color" id="textColor" onchange="changeTextColor(this.value)" style="display: none;">
                            </button>
                        </div>
                        <div class="color-picker">
                            <input type="color" id="bgColor" onchange="format('hiliteColor', this.value)" title="Î∞∞Í≤Ω ÏÉâ">
                        </div>                        
                        
                        <div class="separator"></div>
                        
                        <button onclick="format('insertUnorderedList')" title="Í∏ÄÎ®∏Î¶¨ Í∏∞Ìò∏">‚Ä¢ Î™©Î°ù</button>
                        <button onclick="format('insertOrderedList')" title="Î≤àÌò∏ Îß§Í∏∞Í∏∞">1. Î™©Î°ù</button>
                        
                        <div class="separator"></div>
                        
                        <button onclick="format('justifyLeft')" title="ÏôºÏ™Ω Ï†ïÎ†¨">Ï¢åÏ∏°</button>
                        <button onclick="format('justifyCenter')" title="Í∞ÄÏö¥Îç∞ Ï†ïÎ†¨">Ï§ëÏïô</button>
                        <button onclick="format('justifyRight')" title="Ïò§Î•∏Ï™Ω Ï†ïÎ†¨">Ïö∞Ï∏°</button>
                        <button onclick="format('justifyFull')" title="ÏñëÏ™Ω Ï†ïÎ†¨">‚â°</button>
                        
                        
                        
                        <div class="separator"></div>
                        
                        <button onclick="insertLink()" title="ÎßÅÌÅ¨ ÏÇΩÏûÖ">üîó</button>
                        <button onclick="format('unlink')" title="ÎßÅÌÅ¨ Ï†úÍ±∞">üîó‚úï</button>
                        
                        <div class="separator"></div>
                        
                        <button onclick="format('undo')" title="Ïã§Ìñâ Ï∑®ÏÜå">‚Ü∂</button>
                        <button onclick="format('redo')" title="Îã§Ïãú Ïã§Ìñâ">‚Ü∑</button>
                        
                        <div class="separator"></div>
                        
                        <button id="codeViewToggle" onclick="toggleCodeView()" title="HTML ÏΩîÎìú Î≥¥Í∏∞">HTML</button>
                    </div>
                    
                    <div class="simple-editor" contenteditable="true" id="editor">
                        <p>‚úçÔ∏è Ïó¨Í∏∞Ïóê ÌÖçÏä§Ìä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</p>
                    </div>


                </div>

                <!-- Upload Progress -->
                <div id="uploadProgress" class="upload-progress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <span id="progressText">ÏóÖÎ°úÎìú Ï§ë...</span>
                </div>

                <!-- Editor Actions -->
                <div class="editor-actions">
                    <button type="button" class="btn btn-success" id="saveBtn">Google SheetsÏóê Ï†ÄÏû•</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container">
        <!-- ÌÜ†Ïä§Ìä∏ Î©îÏãúÏßÄÎì§Ïù¥ ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
    </div>

    <!-- Footer -->
    <!-- <footer class="footer">
        <div class="container">
            <p>&copy; 2024 My Blog. All rights reserved.</p>
            <p>Powered by Google Sheets & Vanilla JavaScript</p>
        </div>
    </footer> -->

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/upload.js"></script>
    <script src="js/editor.js"></script>
    
    <!-- Tags Input Script -->
    <script>
        // Tags functionality
        class TagsInput {
            constructor() {
                this.tags = [];
                this.tagInput = document.getElementById('tagInput');
                this.tagsWrapper = document.getElementById('tagsWrapper');
                
                this.init();
            }
            
            init() {
                this.tagInput.addEventListener('keydown', (e) => {
                    if (e.key === ',' || e.key === 'Enter') {
                        e.preventDefault();
                        this.addTag();
                    } else if (e.key === 'Backspace' && this.tagInput.value === '') {
                        this.removeLastTag();
                    }
                });
                
                this.tagInput.addEventListener('blur', () => {
                    if (this.tagInput.value.trim()) {
                        this.addTag();
                    }
                });
            }
            
            addTag() {
                const value = this.tagInput.value.trim();
                if (value && !this.tags.includes(value)) {
                    this.tags.push(value);
                    this.renderTags();
                    this.tagInput.value = '';
                }
            }
            
            removeTag(tagToRemove) {
                this.tags = this.tags.filter(tag => tag !== tagToRemove);
                this.renderTags();
            }
            
            removeLastTag() {
                if (this.tags.length > 0) {
                    this.tags.pop();
                    this.renderTags();
                }
            }
            
            renderTags() {
                // Í∏∞Ï°¥ ÌÉúÍ∑∏Îì§ Ï†úÍ±∞ (input Ï†úÏô∏)
                const existingTags = this.tagsWrapper.querySelectorAll('.tag');
                existingTags.forEach(tag => tag.remove());
                
                // ÏÉà ÌÉúÍ∑∏Îì§ Ï∂îÍ∞Ä
                this.tags.forEach(tagText => {
                    const tagElement = document.createElement('div');
                    tagElement.className = 'tag';
                    tagElement.innerHTML = `
                        <span>${tagText}</span>
                        <button type="button" class="tag-remove" onclick="tagsInput.removeTag('${tagText}')">&times;</button>
                    `;
                    
                    // input ÏïûÏóê ÏÇΩÏûÖ
                    this.tagsWrapper.insertBefore(tagElement, this.tagInput);
                });
            }
            
            getTags() {
                return this.tags;
            }
            
            setTags(tags) {
                this.tags = tags || [];
                this.renderTags();
            }
            
            getTagsString() {
                return this.tags.join(', ');
            }
        }
        
        // Initialize tags input when DOM is ready
        let tagsInput;
        document.addEventListener('DOMContentLoaded', () => {
            tagsInput = new TagsInput();
            window.tagsInput = tagsInput; // Ï†ÑÏó≠ Ï†ëÍ∑º Í∞ÄÎä•ÌïòÎèÑÎ°ù
        });
    </script>
</body>
</html>